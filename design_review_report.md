# تقرير مراجعة تصميم تطبيق MediSwitch

بناءً على تحليل لقطات الشاشة المقدمة (`Downloads/screenshots`) والمعلومات الواردة في `AI_HANDOVER_CHECKPOINT.md`، تم تحديد الملاحظات التالية حول التصميم واقتراح الحلول المناسبة:

## ملاحظات التصميم والحلول المقترحة

### 1. تباين الألوان في بعض العناصر (Color Contrast)
*   **المشكلة:** في بعض الشاشات (خاصة تلك التي تحتوي على خلفيات فاتحة ونص فاتح أو العكس)، قد يكون تباين الألوان غير كافٍ، مما يصعب القراءة خاصة للمستخدمين الذين يعانون من ضعف في الرؤية. (مثال محتمل: نص ثانوي رمادي فاتح على خلفية بيضاء كما أشير إليه في `AI_HANDOVER_CHECKPOINT.md` line 58، على الرغم من أنه تم إصلاحه جزئيًا في شاشة الإعدادات).
*   **الحل المقترح:** مراجعة لوحة الألوان المستخدمة والتأكد من أن نسبة التباين بين النص والخلفية تتوافق مع معايير WCAG (Web Content Accessibility Guidelines) AA على الأقل (نسبة 4.5:1 للنص العادي و 3:1 للنص الكبير). استخدام أدوات فحص التباين للتحقق.

### 2. عدم اتساق الهوامش والمسافات (Inconsistent Padding/Margins)
*   **المشكلة:** لوحظ عدم اتساق في الهوامش (Margins) والمسافات الداخلية (Padding) بين العناصر المختلفة وفي الشاشات المختلفة. هذا يؤدي إلى مظهر غير مصقول ويؤثر على التوازن البصري للتصميم. (يتوافق مع `AI_HANDOVER_CHECKPOINT.md` line 51).
*   **الحل المقترح:** تحديد نظام مسافات قياسي (Spacing System) بناءً على مضاعفات قيمة أساسية (مثل 4px أو 8px) وتطبيقه بشكل متسق في جميع أنحاء التطبيق. مراجعة جميع الشاشات وتعديل الهوامش والمسافات لضمان الاتساق.

### 3. حجم ونمط الخط (Typography Issues)
*   **المشكلة:** قد يكون هناك استخدام غير متسق لأحجام وأنماط الخطوط (Font Weights) عبر التطبيق. في بعض الأحيان، قد يكون النص صغيرًا جدًا للقراءة بسهولة على الأجهزة المحمولة. عدم استخدام الخط الثانوي (Roboto) المذكور في `AI_HANDOVER_CHECKPOINT.md` line 54.
*   **الحل المقترح:** تحديد تسلسل هرمي واضح للخطوط (Typography Hierarchy) بأحجام وأنماط محددة للعناوين الرئيسية والفرعية والنصوص الأساسية والتسميات التوضيحية. التأكد من أن حجم الخط الأساسي قابل للقراءة (عادةً 14px أو 16px كحد أدنى). تقييم الحاجة الفعلية للخط الثانوي (Roboto) وتطبيقه بشكل هادف إذا لزم الأمر، أو إزالته لتبسيط التصميم.

### 4. تصميم بطاقات الأدوية (Drug Card Design)
*   **المشكلة:** بطاقات عرض الأدوية (Drug Cards)، خاصة في القوائم الأفقية، قد تبدو مزدحمة أو قد لا تعرض المعلومات الأكثر أهمية بشكل بارز. قد تكون هناك اختلافات في حجم البطاقات أو محاذاة العناصر داخلها. (تمت الإشارة إلى مشكلة حجم سابقة في `AI_HANDOVER_CHECKPOINT.md` line 57 وتم إصلاحها جزئيًا). قد تكون بعض العناصر المرئية مثل أيقونة النجمة "popular" أو شارة "alternative" مفقودة (`AI_HANDOVER_CHECKPOINT.md` line 52).
*   **الحل المقترح:** إعادة تصميم بطاقة الدواء لتحسين الوضوح والتسلسل الهرمي للمعلومات. استخدام مسافات بيضاء بشكل أفضل. التأكد من عرض السعر/الحجم/الشكل الصيدلاني بوضوح. إضافة العناصر المرئية المفقودة (الأيقونات والشارات) إذا كانت جزءًا من التصميم المعتمد. ضمان اتساق حجم البطاقات والمحاذاة داخل القوائم.

### 5. واجهة البحث والتصفية (Search & Filter UI)
*   **المشكلة:** استخدام `BottomSheet` للتصفية بدلاً من `Side Sheet` المذكور في التصميم المرجعي (`AI_HANDOVER_CHECKPOINT.md` line 53). قد لا يكون هذا هو النمط الأكثر شيوعًا أو سهولة في الاستخدام لتصفية نتائج البحث المعقدة المحتملة. قد تفتقر واجهة البحث نفسها إلى بعض الميزات مثل الاقتراحات التلقائية الواضحة أو سجل البحث.
*   **الحل المقترح:** تقييم تجربة المستخدم الحالية للـ `BottomSheet`. إذا كانت أقل من مثالية، يجب التفكير في تنفيذ `Side Sheet` كما هو محدد في التصميم الأصلي أو استكشاف مكونات تصفية بديلة أكثر ملاءمة. تحسين واجهة البحث بإضافة ميزات مثل الاقتراحات التلقائية الواضحة أثناء الكتابة وسجل البحث الأخير.

### 6. نقص المؤشرات المرئية للحالة (Lack of Visual State Indicators)
*   **المشكلة:** قد لا تكون هناك مؤشرات مرئية واضحة لحالات معينة، مثل حالة التحميل (Loading state) عند جلب البيانات، أو حالة الخطأ (Error state) عند فشل عملية ما، أو حالة الاختيار (Selected state) للعناصر القابلة للنقر.
*   **الحل المقترح:** تصميم وتطبيق مؤشرات حالة واضحة ومتسقة لجميع العمليات التي تستغرق وقتًا أو يمكن أن تفشل. استخدام مؤشرات تحميل (مثل Spinners أو Shimmer effects)، ورسائل خطأ واضحة، وتغييرات مرئية للعناصر عند تحديدها أو النقر عليها.

## الخطوات التالية
*   مراجعة هذه الملاحظات مع فريق التصميم أو صاحب المنتج.
*   تحديد أولويات المشاكل التي سيتم معالجتها.
*   تحديث ملف `@/mediswitch_plan.md` بمهام جديدة لمعالجة مشاكل التصميم المعتمدة.
*   تنفيذ التغييرات المقترحة في الكود.