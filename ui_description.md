# MediSwitch App - وصف واجهات المستخدم (UI Description)

هذا المستند يصف الواجهات الرئيسية لتطبيق MediSwitch بناءً على `app_prompt.md` وخطة العمل، ليُستخدم كدليل للتصميم في Figma.

## النمط العام للواجهة (General UI Style)

*   **الأسلوب:** عصري وحديث، مُستلهم من بساطة وجاذبية تطبيقات مثل Instagram و Telegram.
*   **الألوان:** هادئة ومريحة للعين، التركيز على درجات الأزرق الطبي (Medical Blue) والرمادي.
*   **الخطوط:** خط عربي واضح وسهل القراءة (مثل Noto Sans Arabic)، مع دعم كامل لـ RTL (من اليمين لليسار).
*   **الانتقالات (Animations):** سلسة وبسيطة بين الشاشات لتعزيز تجربة المستخدم.
*   **التجاوب (Responsiveness):** تصميم يتكيف مع مختلف أحجام شاشات الجوال (من iPhone SE إلى Samsung S24 Ultra).

## الهيكل العام للتطبيق (Main App Structure)

*   **التنقل الرئيسي:** شريط تبويبات سفلي (Bottom Navigation Bar) يحتوي على الأيقونات والنصوص التالية:
    *   **الرئيسية (Home):** أيقونة منزل أو مشابه.
    *   **حاسبة الجرعات (Dose Calculator):** أيقونة آلة حاسبة أو قطارة دواء.
    *   **الإعدادات (Settings):** أيقونة ترس أو مشابه.
*   **الحفاظ على الحالة:** عند التنقل بين التبويبات السفلية، يجب الحفاظ على حالة كل شاشة (لا يتم إعادة تحميلها من الصفر).

## وصف الشاشات الرئيسية (Main Screens Description)

### 1. الشاشة الرئيسية (Home Screen)

*   **الغرض:** عرض نقطة البداية للمستخدم، البحث السريع، وعرض الأدوية المحدثة.
*   **المكونات:**
    *   **شريط علوي (AppBar):**
        *   عنوان التطبيق "MediSwitch" أو شعار بسيط.
        *   (اختياري) أيقونة للإشعارات (إذا تم تفعيلها لاحقاً).
    *   **شريط بحث (Search Bar):**
        *   يظهر بشكل بارز أسفل الـ AppBar.
        *   يحتوي على نص افتراضي مثل "ابحث عن دواء..." أو "Search for medicine...".
        *   عند الضغط عليه، ينتقل المستخدم إلى شاشة البحث المخصصة (`SearchScreen`). (هذا الشريط في الرئيسية غير تفاعلي مباشرة).
    *   **قسم الأدوية المحدثة (Recently Updated Drugs Section):**
        *   عنوان للقسم مثل "أحدث الأدوية المضافة" أو "Recently Updated".
        *   قائمة أفقية أو شبكة (Grid) تعرض عدد محدود من الأدوية التي تم تحديثها مؤخراً (مثلاً آخر 5-10 أدوية).
        *   كل عنصر دواء يعرض:
            *   (اختياري) صورة مصغرة للدواء (إذا توفرت).
            *   اسم الدواء التجاري.
            *   السعر.
            *   تاريخ آخر تحديث للسعر أو للمعلومات.
        *   يجب أن تكون القائمة قابلة للتمرير (Scrollable).
        *   (مستقبلاً) يمكن إضافة أقسام أخرى مثل "الأكثر بحثاً" أو "المفضلة".
    *   **(اختياري) زر فلترة سريع:** أيقونة فلتر بجانب شريط البحث تفتح قائمة الفلاتر مباشرة.

### 2. شاشة البحث (Search Screen)

*   **الغرض:** تمكين المستخدم من البحث عن الأدوية وتصفية النتائج.
*   **المكونات:**
    *   **شريط علوي (AppBar):**
        *   يحتوي على حقل إدخال نصي (TextField) للبحث الفعلي.
        *   زر للعودة للشاشة السابقة.
        *   (اختياري) أيقونة لمسح حقل البحث.
    *   **منطقة عرض النتائج (Results Area):**
        *   في البداية (قبل البحث): قد تعرض اقتراحات، تاريخ البحث (ميزة Premium)، أو تكون فارغة.
        *   أثناء الكتابة (مع Debouncer): تبدأ النتائج بالظهور.
        *   عرض النتائج في قائمة رأسية (ListView).
        *   كل عنصر في القائمة (Drug List Item / Drug Card) يعرض:
            *   اسم الدواء التجاري (مع تمييز الجزء المطابق للبحث).
            *   المادة الفعالة.
            *   السعر.
            *   (اختياري) الفئة العلاجية.
        *   عند الضغط على عنصر، تظهر تفاصيل الدواء (مثلاً في BottomSheet أو شاشة جديدة).
    *   **زر الفلترة (Filter Button):**
        *   أيقونة فلتر (عادة في الـ AppBar أو كـ Floating Action Button).
        *   عند الضغط عليها، تظهر نافذة سفلية (BottomSheet) بخيارات الفلترة.
    *   **نافذة الفلترة السفلية (Filter Bottom Sheet):**
        *   خيارات الفلترة المتاحة:
            *   الفئة العلاجية (قائمة منسدلة أو Chips).
            *   السعر (ترتيب تصاعدي/تنازلي).
            *   (مستقبلاً) التوفر.
        *   زر لتطبيق الفلاتر وزر لإلغاء/إعادة التعيين.

### 3. شاشة تفاصيل الدواء (Drug Details Screen / BottomSheet)

*   **الغرض:** عرض جميع المعلومات المتاحة عن دواء معين.
*   **المكونات (قد تكون داخل Modal Bottom Sheet أو شاشة منفصلة):**
    *   **اسم الدواء التجاري:** بخط كبير وواضح في الأعلى.
    *   **المادة الفعالة.**
    *   **السعر:** مع تاريخ آخر تحديث للسعر.
    *   **الفئة العلاجية.**
    *   **(اختياري) صورة الدواء:** إذا كانت متوفرة.
    *   **أقسام إضافية (ExpansionTile أو مشابه):**
        *   **الوصف/دواعي الاستعمال.**
        *   **الجرعة المعتادة.**
        *   **موانع الاستعمال.**
        *   **الآثار الجانبية.**
        *   **معلومات إضافية (الشركة المصنعة، الشكل الصيدلاني، إلخ).**
    *   **زر "إيجاد البدائل" (Find Alternatives):** ينقل المستخدم لشاشة البدائل مع تمرير بيانات الدواء الحالي.
    *   **زر "إضافة للمفضلة" (Add to Favorites):** (ميزة Premium) أيقونة قلب أو نجمة لتفضيل الدواء.

### 4. شاشة حاسبة الجرعات (Dose Calculator Screen)

*   **الغرض:** حساب الجرعة المناسبة بناءً على الدواء ووزن المريض.
*   **المكونات:**
    *   **شريط علوي (AppBar):** عنوان "حاسبة الجرعات".
    *   **فورم الإدخال (Input Form):**
        *   حقل لاختيار/بحث الدواء (Dropdown مع بحث أو Autocomplete TextField).
        *   حقل لإدخال وزن المريض (بالكيلوجرام). يجب أن يقبل أرقام فقط.
        *   (اختياري) حقول إضافية إذا لزم الأمر (مثل العمر).
        *   زر "احسب الجرعة" (Calculate Dose).
    *   **منطقة عرض النتائج (Results Area):**
        *   تعرض الجرعة اليومية المحسوبة بوضوح.
        *   **تحذير:** إذا تجاوزت الجرعة الحد الآمن (إذا توفرت بيانات الحد الآمن)، يظهر تحذير بارز بلون مختلف (أحمر مثلاً) وربما أيقونة تحذير. (قد يصاحبه تنبيه صوتي خفيف).
    *   **زر "حفظ الحساب" (Save Calculation):** (ميزة Premium).

### 5. شاشة البدائل (Alternatives Screen)

*   **الغرض:** عرض الأدوية البديلة لدواء معين بناءً على المادة الفعالة.
*   **المكونات:**
    *   **شريط علوي (AppBar):** عنوان مثل "بدائل لـ [اسم الدواء الأصلي]".
    *   **عرض الدواء الأصلي:** كارت صغير في الأعلى يعرض معلومات الدواء الذي يتم البحث عن بدائله.
    *   **قائمة البدائل (Alternatives List):**
        *   قائمة رأسية (ListView) تعرض الأدوية التي تحتوي على نفس المادة الفعالة.
        *   كل عنصر بديل (Alternative Drug Card) يعرض:
            *   اسم الدواء البديل.
            *   السعر.
            *   (اختياري) نسبة التشابه أو ملاحظات أخرى.
            *   (اختياري) زر لعرض تفاصيل الدواء البديل.

### 6. شاشة الإعدادات (Settings Screen)

*   **الغرض:** التحكم في إعدادات التطبيق والوصول للمعلومات الإضافية.
*   **المكونات (تُعرض كقائمة ListTiles):**
    *   **المظهر (Appearance):**
        *   تبديل بين الوضع الفاتح والداكن (SwitchListTile).
    *   **اللغة (Language):**
        *   خيار لتغيير لغة الواجهة (إذا كان مدعومًا).
    *   **إدارة الاشتراك (Subscription Management):** (تظهر فقط للمستخدمين المجانيين أو Premium)
        *   زر "الترقية للنسخة المميزة" أو عرض حالة الاشتراك الحالية.
    *   **البيانات (Data):**
        *   عرض تاريخ آخر تحديث للبيانات المحلية.
        *   زر "التحقق من وجود تحديثات" (Check for Updates).
    *   **حول التطبيق (About):**
        *   رقم إصدار التطبيق.
        *   رابط لصفحة "عن التطبيق".
    *   **روابط أخرى:**
        *   سياسة الخصوصية (Privacy Policy).
        *   شروط الاستخدام (Terms of Use).
        *   (اختياري) تقييم التطبيق، مشاركة التطبيق.

## ملاحظات إضافية

*   **حالات التحميل (Loading States):** يجب عرض مؤشر تحميل (Loading Indicator) مناسب عند جلب البيانات من الشبكة أو معالجتها.
*   **حالات الخطأ (Error States):** عرض رسائل خطأ واضحة وسهلة الفهم للمستخدم في حالة فشل تحميل البيانات أو حدوث مشكلة أخرى.
*   **الحالات الفارغة (Empty States):** عند عدم وجود نتائج بحث أو بيانات لعرضها، يجب عرض رسالة مناسبة أو رسم توضيحي بسيط.

هذا الوصف يوفر أساساً جيداً للبدء في تصميم الواجهات في Figma. يمكن تعديله وتفصيله أكثر حسب الحاجة أثناء عملية التصميم.
